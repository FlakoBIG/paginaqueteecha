<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Abrir apps desde la web - Demo</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;margin:0;background:#f5f7fb;color:#0b1220}
    .container{max-width:720px;margin:36px auto;padding:20px;background:#fff;border-radius:12px;box-shadow:0 6px 24px rgba(11,18,32,0.08)}
    h1{margin:0 0 8px;font-size:20px}
    p.lead{margin:0 0 18px;color:#495466}
    .btn{display:flex;align-items:center;gap:10px;padding:12px 16px;border-radius:10px;border:0;font-size:16px;cursor:pointer;width:100%;margin-bottom:12px;box-shadow:0 2px 8px rgba(11,18,32,0.06);background:#f2f6ff}
    .btn:active{transform:translateY(1px)}
    footer{margin-top:12px;font-size:13px;color:#6b7382}
    small.code{display:block;margin-top:8px;padding:10px;background:#fafafa;border-radius:8px;font-family:monospace}
  </style>
</head>
<body>
  <div class="container">
    <h1>Abrir apps desde el navegador (demo)</h1>
    <p class="lead">Pulsa un bot√≥n desde tu tel√©fono m√≥vil: la p√°gina intentar√° abrir la aplicaci√≥n nativa (Gmail, YouTube, Ajustes). Si no est√° disponible, te llevar√° a la versi√≥n web.</p>

    <button class="btn" onclick="openGmailInbox()">üì• Abrir Gmail (bandeja de entrada)</button>
    <button class="btn" onclick="composeGmail()">‚úâÔ∏è Redactar email (Gmail / Mail)</button>
    <button class="btn" onclick="openGmailSettings()">‚öôÔ∏è Abrir ajustes de Gmail (mejor intento)</button>

    <hr>

    <button class="btn" onclick="openYouTube()">‚ñ∂Ô∏è Abrir YouTube</button>
    <button class="btn" onclick="openSystemSettings()">üîß Abrir ajustes del sistema (Android ‚Äî limitado)</button>

    <footer>
      <strong>Notas:</strong>
      <ul>
        <li>Algunas acciones (como abrir ajustes del sistema o pantallas espec√≠ficas de una app) s√≥lo funcionan en Android y dependen del navegador.</li>
        <li>En iOS funcionan las URL schemes como <code>googlegmail://</code> o <code>youtube://</code> si la app est√° instalada; si no, se abrir√° la web.</li>
        <li>Este es un ejemplo educativo ‚Äî los comportamientos exactos dependen del sistema operativo, navegador y versi√≥n de la app.</li>
      </ul>
    </footer>

    <small class="code">Archivo: index_open_apps.html ‚Äî abrir en el m√≥vil para probar.</small>
  </div>

  <script>
    // Utilidad: redirige a una URI de esquema (scheme) o, si no se abre, va al fallback (web)
    function tryOpen({schemeUrl, intentUrl, fallbackUrl}){
      const isiOS = /iphone|ipad|ipod/i.test(navigator.userAgent);
      const isAndroid = /android/i.test(navigator.userAgent);

      // Prioridad: en Android usamos intent: si est√° disponible, es la opci√≥n m√°s fiable para forzar abrir la app.
      if(isAndroid && intentUrl){
        // Directo a intent: URI (Chrome en Android lo maneja)
        window.location = intentUrl;
        return;
      }

      // En iOS y Android probamos schemeUrl (ej: googlegmail://, youtube://)
      if(schemeUrl){
        // Intentamos abrir el scheme y si no funciona redirigimos al fallback
        const start = Date.now();
        // cambio de location al scheme -- si la app est√° instalada, el navegador cambiar√° de app.
        window.location = schemeUrl;

        // despu√©s de un corto timeout, si seguimos en la p√°gina, vamos al fallback
        setTimeout(() => {
          // simple heur√≠stica: si han pasado m√°s de 1200ms, probablemente no se abri√≥ la app
          if(Date.now() - start < 2000){
            window.location = fallbackUrl;
          }
        }, 900);
        return;
      }

      // Si no hay scheme ni intent, redirigimos directamente al fallback
      window.location = fallbackUrl;
    }

    // --- Gmail: bandeja de entrada ---
    function openGmailInbox(){
      tryOpen({
        schemeUrl: 'googlegmail://inbox',
        intentUrl: 'intent://inbox#Intent;package=com.google.android.gm;scheme=googlegmail;end;',
        fallbackUrl: 'https://mail.google.com/mail/u/0/#inbox'
      });
    }

    // --- Gmail: redactar correo ---
    function composeGmail(){
      // mailto funciona bien como fallback web y abre el cliente por defecto en m√≥vil
      tryOpen({
        schemeUrl: 'googlegmail://co?to=&subject=Hola&body=Escribe aqu√≠',
        intentUrl: 'intent://co?subject=Hola&body=Escribe%20aqui#Intent;package=com.google.android.gm;scheme=googlegmail;end;',
        fallbackUrl: 'mailto:?subject=Hola&body=Escribe%20aqui'
      });
    }

    // --- Gmail: ajustes (mejor intento) ---
    function openGmailSettings(){
      // No existe un scheme universal p√∫blico garantizado para abrir directamente la pantalla "Ajustes" de Gmail
      // Hacemos el mejor intento: abrimos Gmail para que el usuario desde la app vaya a Ajustes.
      tryOpen({
        schemeUrl: 'googlegmail://inbox',
        intentUrl: 'intent://inbox#Intent;package=com.google.android.gm;scheme=googlegmail;end;',
        fallbackUrl: 'https://support.google.com/mail/'
      });
    }

    // --- YouTube ---
    function openYouTube(){
      tryOpen({
        schemeUrl: 'youtube://',
        intentUrl: 'intent://www.youtube.com/#Intent;package=com.google.android.youtube;scheme=https;end;',
        fallbackUrl: 'https://www.youtube.com/'
      });
    }

    // --- Ajustes del sistema (Android limitado) ---
    function openSystemSettings(){
      // Intent para abrir Ajustes en Android (formato que entiende Chrome)
      const isAndroid = /android/i.test(navigator.userAgent);
      if(!isAndroid){
        alert('Abrir ajustes del sistema desde la web s√≥lo es posible (parcialmente) en Android.');
        return;
      }

      // Probamos formatos de intent m√°s compatibles con Chrome/Android
      // Nota: si el navegador no soporta 'intent:' ver√°s net::ERR_UNKNOWN_URL_SCHEME
      const intentCandidates = [
        'intent://settings#Intent;action=android.settings.SETTINGS;end',
        'intent://#Intent;action=android.settings.SETTINGS;end'
      ];

      // Intentar abrir el intent; si no funciona, despu√©s del timeout vamos al fallback
      window.location = intentCandidates[0];

      // Fallback: si el navegador no soporta intent: o la app no responde, abrimos la p√°gina de ayuda
      setTimeout(() => {
        window.location = 'https://support.google.com/android/answer/7680439';
      }, 1200);
    }
  </script>
</body>
</html>
